<!--
  $Id: $
  
  Vidalia is distributed under the following license:

  Copyright (C) 2006,  Matt Edman, Justin Hipple

  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2
  of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  
  02110-1301, USA.
-->

<html>
<body>

<h1>Running a Tor Server</h1>
<hr />

The Tor network is made up of volunteers all over the world who donate some of
their spare bandwidth by running a server. Vidalia helps you do your part by
making it easy to set up a server of your own.

<a name="basic"/>
<h3>Basic Settings</h3>
<p>
If you decide you want to help the Tor network grow by running a server, you
can follow these steps to get started:
</p>
<ol>
  <li>
    Open the <i>Configuration Dialog</i> by selecting <i>Settings</i> from
    the tray menu or <i>Preferences</i> from your system menubar on Macintosh
    systems.
  </li>
  <li>Select the <i>Server</i> configuration page.</li>
  <li>Check the box labeled <i>Relay traffic for the Tor network</i>.
  <li>Enter the following information:
    <ul>
      <li><b>Nickname</b>:
        The name which your server will be known as on the Tor network. An
        example of a server nickname is "myVidaliaServer".
      </li>
      <li><b>Contact Info</b>:
        Your e-mail address. This address will only be used to
        contact you in case there is an important Tor security update or
        something goes wrong with your server. You might also include your PGP
        or GPG key ID and fingerprint.
      </li>
      <li><b>Server Port</b>:
        The port on which your server will listen for traffic from clients or
        other Tor servers.
      </li>
      <li><b>Address</b>:
        Enter an address at which your computer can be reached by other Tor
        servers on the Internet. If you don't know your public IP address, you
        can click on <i>Get Address</i> and Vidalia will contact an external
        site (e.g., <i>http://www.vidalia-project.net/iptest/ip.php</i>) to
        find out what it thinks your public IP address is.
      </li>
    </ul>
  <li>
    If you would like to mirror Tor's directory of servers for others on the
    network you can check the box labeled <i>Mirror the Server Directory</i>.
    If you do not have much bandwidth, uncheck this box. If you do
    decide to mirror the server directory, make sure the <i>Directory Port</i> is
    different than the <i>Server port</i> you entered above.
  </li>
</ol>

<a name="bandwidth"/>
<h3>Bandwidth Limits</h3>
<p>
Running a Tor server can consume a large amount of bandwidth; however, Tor
allows you to limit the amount of bandwidth that you are willing to contribute
to the Tor network. You can run a server, while still keeping your network
connection usable for your own use.
</p>
<p>
You should select the option in the dropdown box that best matches your
connection speed. If you select <i>Custom</i>, you will be able to specify
your own limits.
</p>
<h4>Custom Limits</h4>
<p>
The <i>maximum rate</i> is a pool of bytes used to fulfill requests during
short periods of traffic higher than your specified <i>average rate</i>, but
still maintains the average over a long period. A low average rate but a high
maximum rate enforces a long-term average while still allowing more traffic
during peak times if the average hasn't been reached lately. If your average
rate is the same as your <i>maximum rate</i>, then Tor will never exceed the
specified rate. Your <i>maximum rate</i> must always be greater than or equal
to your <i>average rate</i>.
</p>
<p>
The <i>average rate</i> is the maximum long-term average bandwidth allowed (in
kilobytes per second). For example, you might want to choose 2 megabytes per 
second (2048 KB/s), or 50 kilobytes per second (a medium-speed cable
connection). Tor requires a minimum of 20 kilobytes per second to run a
server.
</p>
<p>
It is important to remember that Tor measures bandwidth in <b>bytes</b>, not
bits. Also, Tor only looks at incoming bytes instead of outgoing bytes. For
example, if your server acts as a directory mirror, you may be sending more
outgoing bytes than incoming. If you find this is the case and is putting too
much strain on your bandwidth, you should consider unchecking the checkbox
labeled <i>Mirror the server directory</i>.
</p>

<a name="exitpolicy"/>
<h3>Exit Policies</h3>
<p>
Exit policies give you a way to specify what kinds of resources on the
Internet you are willing let other Tor users access from your Tor server. 
Tor uses a default list of exit policies that restrict some services, 
such as mail to prevent spam and some default file sharing ports to reduce 
abuse of the Tor network. 
</p>
<p>
Each of the checkboxes represents a type of resource that you can allow Tor
users to access through your server. If you uncheck the box next to a
particular type of resource, Tor users will not be allowed to access that
resource from your server. If the box labeled <i>Misc Other Services</i> 
is checked, Tor users will be able to access other services not
covered by the other checkboxes or Tor's default exit policy.
</p>
<p>
If you do not want to let other Tor users make connections outside the Tor
network from your server, you can uncheck all of the checkboxes. Even if you
uncheck all of the checkboxes, your server is still useful to the Tor network.
Your server will allow other Tor users to connect to the Tor network and will
help relay traffic between other Tor servers.
</p>
</html>

